#!/usr/bin/perl

use lib "$ENV{GUS_HOME}/lib/perl";
use WDK::Model::CommandHelper;

my $targetDir = $ARGV[0];
my $pubpriv = 'public';

if ($ARGV[1] =~ m/private|package|protected/) {
    $pubpriv = $ARGV[1];
}

if (!$targetDir) {
   print "\nusage: wdkModelJavadoc targetDir\n\n";
   exit(1);
}

-e $targetDir && die "targetDir $targetDir already exists.  Please provide a non-existent targetDir.\n";

my $GUS_HOME = $ENV{GUS_HOME};
my $CLASSPATH = &WDK::Model::CommandHelper::getJavaClasspath($GUS_HOME);

my $cmd = "javadoc -d $targetDir -classpath $CLASSPATH -sourcepath $ENV{PROJECT_HOME}/WDK/Model/src/main/java -$pubpriv org.gusdb.wdk.model org.gusdb.wdk.model.test org.gusdb.wdk.model.test.stress org.gusdb.wdk.model.report org.gusdb.wdk.model.jspwrap org.gusdb.wdk.model.query org.gusdb.wdk.model.query.param org.gusdb.wdk.model.dbms org.gusdb.wdk.model.xml org.gusdb.wdk.model.user org.gusdb.wdk.model.fix org.gusdb.wdk.jmx org.gusdb.wdk.jmx.mbeans org.gusdb.wdk.jmx.mbeans.dbms";

system($cmd);

